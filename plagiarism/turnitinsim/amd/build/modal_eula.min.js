define ("plagiarism_turnitinsim/modal_eula",["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_events","core/config"],function(a,b,c,d,e,f,g){var h=!1,i={EULA_LINK:"[class=\"eula_link\"]",ACCEPT_BUTTON:"[data-action=\"accept-eula\"]",CANCEL_BUTTON:"[data-action=\"cancel\"]"},j=function(a){d.call(this,a)};j.TYPE="plagiarism_turnitinsim-modal_eula";j.prototype=Object.create(d.prototype);j.prototype.constructor=j;j.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this);this.getModal().on(c.events.activate,i.EULA_LINK,function(a){a.preventDefault();window.open(g.wwwroot+"/plagiarism/turnitinsim/eula.php?cmd=eularedirect&sesskey="+g.sesskey,"_blank")});this.getModal().on(c.events.activate,i.ACCEPT_BUTTON,function(){var b=this;a.ajax({type:"POST",url:g.wwwroot+"/plagiarism/turnitinsim/ajax/eula_response.php",dataType:"json",data:{action:"accept_eula",contextid:g.contextid,sesskey:g.sesskey},success:function success(){b.hide();var a=window.location.origin+window.location.pathname+window.location.search+"&eula=1";window.location.href=a}})}.bind(this));this.getModal().on(c.events.activate,i.CANCEL_BUTTON,function(b,c){var d=a.Event(f.cancel);this.getRoot().trigger(d,this);if(!d.isDefaultPrevented()){this.hide();c.originalEvent.preventDefault()}}.bind(this))};if(!h){e.register(j.TYPE,j,"plagiarism_turnitinsim/modal_eula");h=!0}return j});
//# sourceMappingURL=modal_eula.min.js.map
